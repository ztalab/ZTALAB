<!doctype html><html lang=en><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:title" content=" ZACA project introduction &#183;  ZTALAB Blog"><meta name=theme-color content="#hexcolor"><meta property="og:site_name" content="ZTALAB Blog"><meta property="og:url" content="https://www.ztalab.xyz/ztalab_blog/zaca-project-introduction/"><meta property="og:type" content="article"><meta property="og:article:published_time" content="2022-04-19T22:55:18+08:00"><meta property="og:article:tag" content="ZACA"><meta property="og:article:tag" content="ZTALAB"><meta property="og:article:tag" content="CFSSL"><title>ZACA project introduction &#183; ZTALAB Blog</title><link rel="alternative stylesheet" href=https://www.ztalab.xyz/ztalab_blog/css/bootstrap.min.css><link rel=stylesheet href=https://www.ztalab.xyz/ztalab_blog/css/font-awesome.min.css><link rel=stylesheet href=https://www.ztalab.xyz/ztalab_blog/css/main.css><link rel=stylesheet href=https://www.ztalab.xyz/ztalab_blog/css/github.css><link rel=stylesheet href=https://www.ztalab.xyz/ztalab_blog/css/color-theme.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400" type=text/css><link rel="shortcut icon" href=https://www.ztalab.xyz/ztalab_blog/img/favicon.ico><link rel=apple-touch-icon href=https://www.ztalab.xyz/ztalab_blog/images/apple-touch-icon.png></head><body><header class=global-header style="background-image:url(https://picsum.photos/1920/1080?blur=3)"><section class=header-text><h1><a href=https://www.ztalab.xyz/ztalab_blog/>ZTALAB Blog</a></h1><h3 class=tag-line>Record the bits and pieces of ZTALAB.</h3><a class="btn btn-default btn-home" href=https://www.ztalab.xyz/ztalab_blog/><i class="fa fa-angle-left" aria-hidden=true></i>
&nbsp;Home</a><div class=navbar-container><a class="btn btn-default navbar-item" href=https://www.ztalab.xyz/ztalab_blog/categories>Categories</a>
<a class="btn btn-default navbar-item" href=https://www.ztalab.xyz/ztalab_blog/tags>Tags</a>
<a class="btn btn-default navbar-item" href=https://www.ztalab.xyz>ZTALAB</a></div></section></header><main class=container><article><header class=article-title><h1 class=text-primary>ZACA project introduction</h1></header><div class=delimiter></div><section><h1 id=zaca>ZACA</h1><p>ZACA is a Ca pkitls toolkit developed based on cloudflare cfssl</p><p>ZACA includes the following components：</p><ol><li>TLS service, as the CA center, is used for certificate issuance, revocation, signature and other operations.</li><li>API services, as some API services for certificate management.</li><li>OCSP service is a service that queries the online status of certificates and has been signed by OCSP.</li><li>SDK component, which is used for other services to access the CA SDK as a toolkit for certificate issuance and automatic rotation.</li></ol><h2 id=building>Building</h2><p>Building cfssl requires a .</p><pre tabindex=0><code>$ git clone git@github.com:ztalab/ZACA.git
$ cd ZACA
$ make
</code></pre><p>You can set GOOS and GOARCH environment variables to allow Go to cross-compile alternative platforms.</p><p>The resulting binaries will be in the bin folder:</p><pre tabindex=0><code>$ tree bin
bin
├── ZACA
</code></pre><h2 id=configuration-reference>Configuration reference</h2><p>When ZACA starts each service, it needs to rely on some configurations, and the dependent configuration information has two configuration methods:</p><p><strong>configuration file:</strong></p><p>The configuration file is in the project root directory：<code>conf.yml</code> ,The file format is standard yaml format, which can be used as a reference。</p><p><strong>environment variable:</strong></p><p>In the project root directory：<code>.env.example</code>, The file describes how to configure some settings through environment variables.</p><p><strong>Priority:</strong></p><p>The configuration priority of environment variables is higher than the configuration in the configuration file.</p><h2 id=service-installation>Service Installation</h2><h3 id=tls-service>TLS service</h3><p>TLS service is used to issue certificates through control<code>IS_KEYMANAGER_SELF_SIGN</code> Environment variable to control whether to start as root ca.</p><ul><li>Started as root Ca, TLS service will self sign certificate.</li><li>When starting as an intermediate Ca, the TLS service needs to request the root CA signing certificate as its own CA certificate.</li></ul><p>Start command：<code>ZACA tls</code>，Default listening port 8081</p><h3 id=ocsp-service>OCSP service</h3><p>OCSP online certificate status is used to query the certificate status information. OCSP returns the certificate online status information to quickly check whether the certificate has expired, whether it has been revoked and so on.</p><p>Start command：<code>ZACA ocsp</code>，Default listening port 8082</p><h3 id=api-services>API services</h3><p>Provide CA center API service, which can be accessed after the service is started<code>http://localhost:8080/swagger/index.html</code>，View API documentation.</p><p>Start command：<code>ZACA api</code>，Default listening port 8080</p><h3 id=sdk-installation>SDK Installation</h3><pre tabindex=0><code>$ go get github.com:ztalab/ZACA
</code></pre><p>The classic usage of the ZACA SDK is that the client and the server use the certificate issued by the CA center for encrypted communication. The following is the usage of the sdk between the client and the server.</p><p>See：</p></section><div class=clearfix><div class="post-date pull-left"><span class=small>Posted on
Apr 19, 2022 at 22:55</span></div><div class=pull-right><span class="post-tag small"><a href=https://www.ztalab.xyz/ztalab_blog/tags/zaca/>#ZACA</a></span>
<span class="post-tag small"><a href=https://www.ztalab.xyz/ztalab_blog/tags/ztalab/>#ZTALAB</a></span>
<span class="post-tag small"><a href=https://www.ztalab.xyz/ztalab_blog/tags/cfssl/>#CFSSL</a></span></div></div><footer><div class=delimiter></div><div class=pager-container><a class="btn btn-primary btn-older-posts" href=https://www.ztalab.xyz/ztalab_blog/zeroaccess-whitepaper/><div><span aria-hidden=true>&larr;</span> Older Posts</div></a><a class="btn btn-primary btn-newer-posts disabled" href=#><div>Newer Posts <span aria-hidden=true>&rarr;</span></div></a></div></footer></article><div class=delimiter></div></main><footer class="container global-footer"><div class="copyright-note pull-left">&copy 2022 ZTALAB 
   </div><div class="sns-links hidden-print"></div></footer></body></html>